<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<!-- 
* 동기와 비동기
프로그램이 동작하는 상태에서 완전히 해당 내용을 끝내고 다음으로 제어를 넘기는 방식을 동기식, 
동작이 끝나지 않은 상태에서도 제어권을 넘긴 후 프로그램을 계속 진행하면 비동기식이라고 합니다.

예외 처리(Exception)
프로그램이 실행되고 있는 런타임시에 에러가 발생할 경우 처리할 수 있는 프로그램 구간을 의미합니다.

try {
    예외 상황이 발생할 수 있는 문장
    ....
    ....
}catch(e){
    예외 상황이 발생했을 경우 처리할 문장(e는 Exception 객체)
}finally{
    예외 상황이 발생하거나 발생하지 않아도 무조건 실행될 문장(생략가능)
}
 -->
 <script>
   function workP(sec){ //sec = 1
    // promise  많은 콜백 함수를 사용하다 보면 코드가 복잡하게 중복이 되는 경우 생김 ->콜백 지옥 발생
    // 코드의 중첩이  많아지는 콜백의 지옥에서 벗어나게 해주는 객체   
    // promise의 인스턴스를 리턴하고     
    // then에서 리턴한 것을 받는다.  

    return new Promise((resolve, reject)=>{  //서버에 요청/응답
        //promise 생성시 넘기는  callback = resolve, reject
        //resolve 동작 완료시 호출, reject 에러 났을 경우
    
        setTimeout(()=>{
            resolve(new Date().toISOString());
        },sec*1000);
    });
   }

   // then을 하면 return값을 받게 된다.
   workP(1).then((result)=>{ //함수호출
       console.log('첫번째 작업', result);
       return workP(1);
   }).then((result)=>{
       console.log('두번째 작업', result);
   })


   //첫번째 작업 현재 시간
   //두번째 작업 현재 시간

   var  변수 = abs();

   function abs(){
       return 변수 = 실행물;
   }
 </script>
</body>
</html>